<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="content">

  <div class="upload-container">

    <h2>스토리 작성</h2>

    <form id="upload-form" method="post" enctype="multipart/form-data" th:action="@{/upload}" >

      <!-- 이미지 업로드 (Drag & Drop 지원) -->
      <div class="form-group">
        <label>이미지 선택</label>
        <div id="drop-zone">
          <p>여기로 파일을 드래그하거나 클릭해서 선택하세요</p>
          <img id="preview-image" src="" alt="미리보기" style="display: none; max-width: 100%; margin-top: 10px; border-radius: 8px;">
          <input type="file" id="image" name="image" accept="image/*" style="display: none;">
        </div>

        <!-- drop-zone 바로 아래에 추가 -->
        <div id="loading" style="display: none; text-align: center; margin-top: 10px;">
          <i class="fa fa-spinner fa-spin" style="font-size:24px; color:#0095f6;"></i>
          <p>업로드 중...</p>
        </div>
      </div>

      <!-- 프로그램 내용 입력 -->
      <div class="form-group">
        <label for="content">내용</label>
        <textarea id="content" name="content" placeholder="사진의 내용에 대해서 이야기해주세요." required></textarea>
      </div>

      <!-- 등록 버튼 -->
      <div class="form-group">
        <button type="submit">등록하기</button>
      </div>

    </form>

  </div>

</div>
</html>